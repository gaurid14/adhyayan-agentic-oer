{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Suspended users</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'accounts/forum.css' %}">
</head>
<body class="bg-light">
<div class="container py-4" style="max-width: 900px;">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h4 class="mb-0">Suspended users</h4>
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'forum_moderation_queue' %}">
      Back to moderation
    </a>
  </div>

  {% if users %}
    <div class="list-group">
      {% for u in users %}
        <div class="list-group-item d-flex align-items-center justify-content-between">
          <div class="min-w-0">
            <div class="fw-semibold text-truncate">{{ u.username }}</div>

            <div class="text-muted small">
              Suspended on
              {% if u.forum_suspended_at %}
                {{ u.forum_suspended_at|date:"d M Y, H:i" }}
              {% else %}
                (unknown)
              {% endif %}
            </div>

            {% if u.forum_suspension_reason %}
              <div class="small mt-1" style="white-space: pre-wrap;">
                {{ u.forum_suspension_reason }}
              </div>
            {% endif %}
          </div>

          <form method="post" action="{% url 'forum_unsuspend_user' u.id %}">
            {% csrf_token %}
            <button class="btn btn-success btn-sm" type="submit">Unsuspend</button>
          </form>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info mb-0">No suspended users right now.</div>
  {% endif %}
</div>
</body>
</html>