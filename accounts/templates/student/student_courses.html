{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Courses | Student</title>

    <link rel="stylesheet" href="{% static 'accounts/sidebar.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            background: #fff;
            font-family: 'Segoe UI', sans-serif;
        }

        .main-content {
            margin-left: 260px;
            padding: 30px 40px;
        }

        /* ===== TOP BAR ===== */
        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fff;
            padding: 14px 22px;
            border-radius: 14px;
            border: 1px solid #E5E7EB;
            box-shadow: 0 2px 6px rgba(16,24,40,0.08);
            margin-bottom: 25px;
        }

        /* ===== STREAK BANNER ===== */
        .streak-banner {
            background: linear-gradient(135deg, #0F766E, #1EAE98);
            color: #fff;
            padding: 20px 24px;
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 8px 24px rgba(16,24,40,0.15);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .streak-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .streak-icon {
            font-size: 32px;
        }

        .streak-text h3 {
            margin-bottom: 4px;
            font-size: 20px;
        }

        .streak-text p {
            font-size: 14px;
            opacity: 0.9;
        }

        /* ===== STATS ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 35px;
        }

        .stat-card {
            background: #fff;
            border-radius: 14px;
            padding: 22px;
            border: 1px solid #E5E7EB;
            box-shadow: 0 2px 6px rgba(16,24,40,0.08);
        }

        .stat-card h3 {
            font-size: 26px;
            margin-bottom: 6px;
        }

        .stat-card p {
            font-size: 13px;
            color: #6B7280;
        }

        /* ===== SECTION HEADER ===== */
        .section-header {
            background: #FFFFFF;
            padding: 14px 18px;
            border-radius: 12px;
            border: 1px solid #E5E7EB;
            box-shadow: 0 3px 10px rgba(16,24,40,0.08);
            font-weight: 600;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* ===== LAYOUT ===== */
        .courses-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .course-card {
            background: #fff;
            border-radius: 14px;
            padding: 20px;
            border: 1px solid #E5E7EB;
            box-shadow: 0 2px 8px rgba(16,24,40,0.08);
        }

        .course-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .course-meta {
            font-size: 13px;
            color: #6B7280;
            margin-bottom: 10px;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            font-size: 12px;
            font-weight: 600;
            border-radius: 999px;
            margin-bottom: 10px;
        }

        .badge-progress {
            background: #FEF3C7;
            color: #92400E;
        }

        .badge-complete {
            background: #E6F4F1;
            color: #0F766E;
        }

        .progress-bar {
            height: 8px;
            background: #E5E7EB;
            border-radius: 999px;
            overflow: hidden;
            margin: 8px 0 10px;
        }

        .progress-fill {
            height: 100%;
            background: #1EAE98;
        }

        .action-btn {
            display: inline-block;
            margin-top: 12px;
            padding: 8px 14px;
            background: #1EAE98;
            color: #fff;
            border-radius: 8px;
            font-size: 13px;
            text-decoration: none;
        }

        /* ===== CHART ===== */
       .chart-card {
    background: #fff;
    border-radius: 14px;
    padding: 14px 16px;          /* â¬… reduced padding */
    border: 1px solid #E5E7EB;
    box-shadow: 0 3px 10px rgba(16,24,40,0.08);
    max-height: 360px;           /* â¬… controls box height */
}
.chart-card canvas {
    max-width: 100%;
    max-height: 260px;   /* â¬… shrink chart */
    margin: 0 auto;
    display: block;
}
.chart-card strong {
    display: block;
    margin-bottom: 10px;
    font-size: 15px;
}
    </style>
</head>

<body>

{% include "student/sidebar.html" %}

<div class="main-content">

    <div class="topbar">
        <strong>My Courses</strong>
        <span class="user-chip">{{ user.first_name }} {{ user.last_name }}</span>
    </div>

    <!-- ðŸ”¥ STREAK -->
    <div class="streak-banner">
        <div class="streak-left">
            <div class="streak-icon">ðŸ”¥</div>
            <div class="streak-text">
                <h3>5 Day Learning Streak</h3>
                <p>You learned something today â€” keep it going!</p>
            </div>
        </div>
        <strong>+1 Day</strong>
    </div>

    <!-- STATS -->
    <div class="stats-grid">
        <div class="stat-card"><h3>6</h3><p>Total Enrolled Courses</p></div>
        <div class="stat-card"><h3>3</h3><p>Completed Courses</p></div>
        <div class="stat-card"><h3>2</h3><p>Courses In Progress</p></div>
        <div class="stat-card"><h3>18</h3><p>Chapters Completed</p></div>
    </div>

    <div class="courses-layout">

        <!-- LEFT -->
        <div>

            <div class="section-header">
                ðŸ“˜ Enrolled Courses
            </div>

            <div class="course-grid">
                <div class="course-card">
                    <div class="course-title">Internet Programming</div>
                    <div class="course-meta">ITD05015 Â· Semester 5</div>
                    <span class="badge badge-progress">In Progress</span>
                    <div class="progress-bar"><div class="progress-fill" style="width:65%"></div></div>
                    <a href="#" class="action-btn">Continue Learning</a>
                </div>

                <div class="course-card">
                    <div class="course-title">Software Engineering</div>
                    <div class="course-meta">ITD05018 Â· Semester 5</div>
                    <span class="badge badge-progress">In Progress</span>
                    <div class="progress-bar"><div class="progress-fill" style="width:40%"></div></div>
                    <a href="#" class="action-btn">Continue Learning</a>
                </div>
                <div class="course-card">
                    <div class="course-title">OOPS</div>
                    <div class="course-meta">ITD05018 Â· Semester 5</div>
                    <span class="badge badge-progress">In Progress</span>
                    <div class="progress-bar"><div class="progress-fill" style="width:40%"></div></div>
                    <a href="#" class="action-btn">Continue Learning</a>
                </div>
                <div class="course-card">
                    <div class="course-title">Wireless Technologies</div>
                    <div class="course-meta">ITD05018 Â· Semester 5</div>
                    <span class="badge badge-progress">In Progress</span>
                    <div class="progress-bar"><div class="progress-fill" style="width:40%"></div></div>
                    <a href="#" class="action-btn">Continue Learning</a>
                </div>
            </div>

            <div class="section-header">
                âœ… Completed Courses
            </div>

            <div class="course-grid">
                <div class="course-card">
                    <div class="course-title">Computer Networks âœ”</div>
                    <div class="course-meta">ITD05016 Â· Semester 5</div>
                    <span class="badge badge-complete">Completed</span>
                    <a href="#" class="action-btn">View Content</a>
                </div>

                <div class="course-card">
                    <div class="course-title">Advanced Data Management âœ”</div>
                    <div class="course-meta">ITD05012 Â· Semester 5</div>
                    <span class="badge badge-complete">Completed</span>
                    <a href="#" class="action-btn">View Content</a>
                </div>
                 <div class="course-card">
                    <div class="course-title">Web Development âœ”</div>
                    <div class="course-meta">ITD05012 Â· Semester 5</div>
                    <span class="badge badge-complete">Completed</span>
                    <a href="#" class="action-btn">View Content</a>
                </div>
                 <div class="course-card">
                    <div class="course-title">Bussniess Managementâœ”</div>
                    <div class="course-meta">ITD05012 Â· Semester 5</div>
                    <span class="badge badge-complete">Completed</span>
                    <a href="#" class="action-btn">View Content</a>
                </div>
            </div>

        </div>

        
        <!-- RIGHT -->
        <div class="chart-card">
            <strong>ðŸ“Š Learning Progress Overview</strong>
            <canvas id="courseChart"></canvas>
        </div>

    </div>

</div>

<script>
new Chart(document.getElementById('courseChart'), {
    type: 'pie',
    data: {
        labels: ['Completed', 'In Progress', 'Not Started'],
        datasets: [{
            data: [3, 2, 1],
            backgroundColor: ['#0F766E', '#F59E0B', '#E5E7EB']
        }]
    },
    options: {
        plugins: { legend: { position: 'bottom' } }
    }
});
</script>

</body>
</html>
